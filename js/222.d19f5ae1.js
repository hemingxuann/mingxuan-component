"use strict";(self["webpackChunkmingxuan_component"]=self["webpackChunkmingxuan_component"]||[]).push([[222],{222:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"trees-box"},[l("TreeNode",{attrs:{tree:e.trees,layers:0}})],1)},s=[],r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[e.tree?l("div",e._l(e.tree,(function(t,n){return l("div",{key:t.id},[l("div",{staticClass:"conent"},[l("div",{staticClass:"conent-fill",on:{click:function(l){return e.openDore(t,n)}}},[l("svg",{staticClass:"icon",class:{rotate:t.open,transparent:!t.children},attrs:{"aria-hidden":"true"}},[l("use",{attrs:{"xlink:href":"#icon-arrDnR-fill-copy"}})])]),l("div",{staticClass:"buxuan",class:[0===t.selected?"buxuan":1===t.selected?"banxuan":"quanxuan"],on:{click:function(l){return e.nodeClick(t,n)}}}),l("span",{on:{click:function(l){return e.openDore(t,n)}}},[e._v(e._s(t.label))])]),l("div",{staticClass:"children",class:{open:t.open}},[l("TreesNode",{attrs:{tree:t.children,layers:e.layers+1}})],1)])})),0):e._e()])},i=[],a=l(8935),d={name:"TreesNode",data(){return{open:!1}},props:{tree:{type:Array},layers:{type:Number}},computed:{},mounted(){console.log("当前层=====================>",this.tree,"层数=====================>",this.layers)},methods:{nodeClick(e,t){2===e.selected||1===e.selected?this.$set(e,"selected",0):this.$set(e,"selected",2),this.refreshAllParentNodes(this.$parent),this.refreshAllSonNodes(this.$children[t],e.selected)},refreshAllSonNodes(e,t){e instanceof a["default"]&&e.tree&&e.$children&&(e.tree.map((e=>{this.$set(e,"selected",t)})),e.$children.map((e=>{this.refreshAllSonNodes(e,t)})))},refreshAllParentNodes(e){e instanceof a["default"]&&e.tree&&(e.$children&&e.$children.map(((t,l)=>{let n=0,s=0,r=0;t.tree&&t.tree.map((i=>{0===i.selected?s++:2===i.selected&&r++,n=s===t.tree.length?0:r===t.tree.length?2:1,this.$set(e.tree[l],"selected",n)}))})),this.refreshAllParentNodes(e.$parent))},openDore(e){e.open?this.$set(e,"open",0):this.$set(e,"open",1)}}},c=d,o=l(1001),h=(0,o.Z)(c,r,i,!1,null,"53688fea",null),u=h.exports,p={name:"treet",data(){return{trees:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]},{id:11,label:"二级 1-2",children:[{id:12,label:"三级 1-2-1"},{id:13,label:"三级 1-2-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}]}},components:{TreeNode:u},mounted(){this.initLiat(this.trees)},methods:{initLiat(e){e.map((e=>{this.$set(e,"selected",0),e.children&&this.$set(e,"open",0),e.children&&this.initLiat(e.children)}))}}},f=p,b=(0,o.Z)(f,n,s,!1,null,"2d345c64",null),m=b.exports}}]);
//# sourceMappingURL=222.d19f5ae1.js.map