"use strict";(self["webpackChunkmingxuan_component"]=self["webpackChunkmingxuan_component"]||[]).push([[222],{222:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"trees-box"},[n("TreeNode",{attrs:{tree:e.trees,layers:0}})],1)},r=[],i=(n(1249),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.tree?n("div",e._l(e.tree,(function(t,l){return n("div",{key:t.id},[n("div",{staticClass:"conent"},[n("div",{staticClass:"conent-fill",on:{click:function(n){return e.openDore(t,l)}}},[n("svg",{staticClass:"icon",class:{rotate:t.open,transparent:!t.children},attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-arrDnR-fill-copy"}})])]),n("div",{staticClass:"buxuan",class:[0===t.selected?"buxuan":1===t.selected?"banxuan":"quanxuan"],on:{click:function(n){return e.nodeClick(t,l)}}}),n("span",{on:{click:function(n){return e.openDore(t,l)}}},[e._v(e._s(t.label))])]),n("div",{staticClass:"children",class:{open:t.open}},[n("TreesNode",{attrs:{tree:t.children,layers:e.layers+1}})],1)])})),0):e._e()])}),s=[],a=(n(9653),n(8935)),c={name:"TreesNode",data:function(){return{open:!1}},props:{tree:{type:Array},layers:{type:Number}},computed:{},mounted:function(){console.log("当前层=====================>",this.tree,"层数=====================>",this.layers)},methods:{nodeClick:function(e,t){2===e.selected||1===e.selected?this.$set(e,"selected",0):this.$set(e,"selected",2),this.refreshAllParentNodes(this.$parent),this.refreshAllSonNodes(this.$children[t],e.selected)},refreshAllSonNodes:function(e,t){var n=this;e instanceof a["default"]&&e.tree&&e.$children&&(e.tree.map((function(e){n.$set(e,"selected",t)})),e.$children.map((function(e){n.refreshAllSonNodes(e,t)})))},refreshAllParentNodes:function(e){var t=this;e instanceof a["default"]&&e.tree&&(e.$children&&e.$children.map((function(n,l){var r=0,i=0,s=0;n.tree&&n.tree.map((function(a){0===a.selected?i++:2===a.selected&&s++,r=i===n.tree.length?0:s===n.tree.length?2:1,t.$set(e.tree[l],"selected",r)}))})),this.refreshAllParentNodes(e.$parent))},openDore:function(e){e.open?this.$set(e,"open",0):this.$set(e,"open",1)}}},o=c,d=n(1001),u=(0,d.Z)(o,i,s,!1,null,"53688fea",null),h=u.exports,f={name:"treet",data:function(){return{trees:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]},{id:11,label:"二级 1-2",children:[{id:12,label:"三级 1-2-1"},{id:13,label:"三级 1-2-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}]}},components:{TreeNode:h},mounted:function(){this.initLiat(this.trees)},methods:{initLiat:function(e){var t=this;e.map((function(e){t.$set(e,"selected",0),e.children&&t.$set(e,"open",0),e.children&&t.initLiat(e.children)}))}}},p=f,b=(0,d.Z)(p,l,r,!1,null,"2d345c64",null),m=b.exports}}]);
//# sourceMappingURL=222-legacy.8f32149d.js.map