(self["webpackChunkmingxuan_component"]=self["webpackChunkmingxuan_component"]||[]).push([[881],{2881:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"spu-selectbox"},[i("div",[e._v(" 规格型号："),e._l(e.select,(function(t,n){return i("a",{key:n},[e._v(" "+e._s(t.label))])}))],2),e._l(e.typelist,(function(t,n){return i("div",{key:n,staticClass:"listbox"},[i("div",[e._v(e._s(t.name)+":")]),i("div",{staticClass:"commodity"},e._l(t.item,(function(t,c){return i("a",{key:c,class:["content",{active:t.active},{disable:t.disabled}],on:{click:function(i){return e.selectTag(n,c,t)}}},[e._v(e._s(t.label))])})),0)])}))],2)},c=[];i(6699);let r={title:"手机",difference:[{id:"1",price:"200.00",stock:"59",difference:"128G,100,白色"},{id:"2",price:"200.00",stock:"19",difference:"128G,100,蓝色"},{id:"3",price:"200.00",stock:"0",difference:"128G,100,黑色"},{id:"4",price:"259.00",stock:"0",difference:"128G,200,白色"},{id:"5",price:"200.00",stock:"19",difference:"128G,200,蓝色"},{id:"6",price:"200.00",stock:"19",difference:"128G,200,黑色"},{id:"7",price:"259.00",stock:"19",difference:"256G,100,白色"},{id:"8",price:"590.00",stock:"0",difference:"256G,100,蓝色"},{id:"9",price:"200.00",stock:"19",difference:"256G,100,黑色"},{id:"10",price:"359.00",stock:"0",difference:"256G,200,白色"},{id:"11",price:"300.00",stock:"19",difference:"256G,200,蓝色"},{id:"12",price:"399.00",stock:"19",difference:"256G,200,黑色"}],specifications:[{name:"型号",item:[{label:"128G"},{label:"256G"}]},{name:"尺寸",item:[{label:"100"},{label:"200"}]},{name:"颜色",item:[{label:"白色"},{label:"蓝色"},{label:"黑色"}]}]};var s={name:"sku",data(){return{typelist:[],SkuList:[],select:[]}},components:{},mounted(){this.skulist(),this.get_skulist(),this.init()},methods:{init(){this.typelist.forEach((e=>{e.item.forEach((e=>{this.SkuList.flat(1/0).includes(e.label)?e.disabled=!1:e.disabled=!0}))}))},get_skulist(){r.specifications.forEach((e=>{e.item.forEach((e=>{e.disabled=!1,e.active=!1}))})),this.typelist=r.specifications},skulist(){let e=r.difference,t=[];e.forEach((e=>{"0"!=e.stock&&t.push(e["difference"].split(","))})),this.SkuList=t},optionsHandle(e,t){let i=[];e.map((e=>{i.push(e.label)})),this.SkuList.map((e=>{this.isContained(e,i)&&(this.typelist[t.index]["item"][t.tagindex].disabled=!1)}))},isContained(e,t){if(!(e instanceof Array)||!(t instanceof Array)||e.length<t.length)return!1;let i=e.toString();for(var n=0;n<t.length;n++)if(i.indexOf(t[n])<0)return!1;return!0},filter(e=[]){return e.filter((function(e){return e&&e.trim()}))},selectTag(e,t,i){if(1==i.disabled)return;let n=this.select,c=this.typelist;i.active?(c[e]["item"][t].active=!1,n.forEach(((t,i)=>{t.index==e&&n.splice(i,1)}))):(c[e]["item"].forEach((e=>{e.active=!1})),c[e]["item"][t].active=!0,n.forEach(((t,i)=>{t.index==e&&n.splice(i,1)})),n.push({label:i.label,index:e,tagindex:t})),n.sort((function(e,t){return e.index-t.index}));let r=[];n.forEach((e=>{r.push(e.index)})),0==n.length?this.init():c.forEach(((e,t)=>{e.item.forEach(((e,i)=>{e.active||(e.disabled=!0);let c={label:e.label,index:t,tagindex:i};if(r.indexOf(t)>-1){let e=n.slice(),i=r.indexOf(t);e.splice(i,1,c),this.optionsHandle(e,c)}else{let e=n.slice();e.push(c),this.optionsHandle(e,c)}}))}))}}},l=s,a=i(1001),o=(0,a.Z)(l,n,c,!1,null,"e4d1a372",null),f=o.exports},1223:function(e,t,i){var n=i(5112),c=i(30),r=i(3070).f,s=n("unscopables"),l=Array.prototype;void 0==l[s]&&r(l,s,{configurable:!0,value:c(null)}),e.exports=function(e){l[s][e]=!0}},30:function(e,t,i){var n,c=i(9670),r=i(6048),s=i(748),l=i(3501),a=i(490),o=i(317),f=i(6200),d=">",u="<",p="prototype",h="script",v=f("IE_PROTO"),m=function(){},b=function(e){return u+h+d+e+u+"/"+h+d},k=function(e){e.write(b("")),e.close();var t=e.parentWindow.Object;return e=null,t},x=function(){var e,t=o("iframe"),i="java"+h+":";return t.style.display="none",a.appendChild(t),t.src=String(i),e=t.contentWindow.document,e.open(),e.write(b("document.F=Object")),e.close(),e.F},y=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&n?k(n):x():k(n);var e=s.length;while(e--)delete y[p][s[e]];return y()};l[v]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(m[p]=c(e),i=new m,m[p]=null,i[v]=e):i=y(),void 0===t?i:r.f(i,t)}},6048:function(e,t,i){var n=i(9781),c=i(3353),r=i(3070),s=i(9670),l=i(5656),a=i(1956);t.f=n&&!c?Object.defineProperties:function(e,t){s(e);var i,n=l(t),c=a(t),o=c.length,f=0;while(o>f)r.f(e,i=c[f++],n[i]);return e}},1956:function(e,t,i){var n=i(6324),c=i(748);e.exports=Object.keys||function(e){return n(e,c)}},6699:function(e,t,i){"use strict";var n=i(2109),c=i(1318).includes,r=i(7293),s=i(1223),l=r((function(){return!Array(1).includes()}));n({target:"Array",proto:!0,forced:l},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=881.485ddcc4.js.map