(self["webpackChunkmingxuan_component"]=self["webpackChunkmingxuan_component"]||[]).push([[881],{2881:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"spu-selectbox"},[i("div",[e._v(" 规格型号："),e._l(e.select,(function(t,n){return i("a",{key:n},[e._v(" "+e._s(t.label))])}))],2),e._l(e.typelist,(function(t,n){return i("div",{key:n,staticClass:"listbox"},[i("div",[e._v(e._s(t.name)+":")]),i("div",{staticClass:"commodity"},e._l(t.item,(function(t,c){return i("a",{key:c,class:["content",{active:t.active},{disable:t.disabled}],on:{click:function(i){return e.selectTag(n,c,t)}}},[e._v(e._s(t.label))])})),0)])}))],2)},c=[],r=(i(1539),i(4747),i(6699),i(2023),i(4944),i(3792),i(4916),i(3123),i(1249),i(9714),i(7327),i(3210),i(561),i(2707),i(7042),{title:"手机",difference:[{id:"1",price:"200.00",stock:"59",difference:"128G,100,白色"},{id:"2",price:"200.00",stock:"19",difference:"128G,100,蓝色"},{id:"3",price:"200.00",stock:"0",difference:"128G,100,黑色"},{id:"4",price:"259.00",stock:"0",difference:"128G,200,白色"},{id:"5",price:"200.00",stock:"19",difference:"128G,200,蓝色"},{id:"6",price:"200.00",stock:"19",difference:"128G,200,黑色"},{id:"7",price:"259.00",stock:"19",difference:"256G,100,白色"},{id:"8",price:"590.00",stock:"0",difference:"256G,100,蓝色"},{id:"9",price:"200.00",stock:"19",difference:"256G,100,黑色"},{id:"10",price:"359.00",stock:"0",difference:"256G,200,白色"},{id:"11",price:"300.00",stock:"19",difference:"256G,200,蓝色"},{id:"12",price:"399.00",stock:"19",difference:"256G,200,黑色"}],specifications:[{name:"型号",item:[{label:"128G"},{label:"256G"}]},{name:"尺寸",item:[{label:"100"},{label:"200"}]},{name:"颜色",item:[{label:"白色"},{label:"蓝色"},{label:"黑色"}]}]}),s={name:"sku",data:function(){return{typelist:[],SkuList:[],select:[]}},components:{},mounted:function(){this.skulist(),this.get_skulist(),this.init()},methods:{init:function(){var e=this;this.typelist.forEach((function(t){t.item.forEach((function(t){e.SkuList.flat(1/0).includes(t.label)?t.disabled=!1:t.disabled=!0}))}))},get_skulist:function(){r.specifications.forEach((function(e){e.item.forEach((function(e){e.disabled=!1,e.active=!1}))})),this.typelist=r.specifications},skulist:function(){var e=r.difference,t=[];e.forEach((function(e){"0"!=e.stock&&t.push(e["difference"].split(","))})),this.SkuList=t},optionsHandle:function(e,t){var i=this,n=[];e.map((function(e){n.push(e.label)})),this.SkuList.map((function(e){i.isContained(e,n)&&(i.typelist[t.index]["item"][t.tagindex].disabled=!1)}))},isContained:function(e,t){if(!(e instanceof Array)||!(t instanceof Array)||e.length<t.length)return!1;for(var i=e.toString(),n=0;n<t.length;n++)if(i.indexOf(t[n])<0)return!1;return!0},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return e&&e.trim()}))},selectTag:function(e,t,i){var n=this;if(1!=i.disabled){var c=this.select,r=this.typelist;i.active?(r[e]["item"][t].active=!1,c.forEach((function(t,i){t.index==e&&c.splice(i,1)}))):(r[e]["item"].forEach((function(e){e.active=!1})),r[e]["item"][t].active=!0,c.forEach((function(t,i){t.index==e&&c.splice(i,1)})),c.push({label:i.label,index:e,tagindex:t})),c.sort((function(e,t){return e.index-t.index}));var s=[];c.forEach((function(e){s.push(e.index)})),0==c.length?this.init():r.forEach((function(e,t){e.item.forEach((function(e,i){e.active||(e.disabled=!0);var r={label:e.label,index:t,tagindex:i};if(s.indexOf(t)>-1){var a=c.slice(),o=s.indexOf(t);a.splice(o,1,r),n.optionsHandle(a,r)}else{var f=c.slice();f.push(r),n.optionsHandle(f,r)}}))}))}}}},a=s,o=i(1001),f=(0,o.Z)(a,n,c,!1,null,"e4d1a372",null),l=f.exports},4964:function(e,t,i){var n=i(5112),c=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[c]=!1,"/./"[e](t)}catch(n){}}return!1}},6790:function(e,t,i){"use strict";var n=i(7854),c=i(3157),r=i(6244),s=i(9974),a=n.TypeError,o=function(e,t,i,n,f,l,u,d){var h,p,v=f,m=0,k=!!u&&s(u,d);while(m<n){if(m in i){if(h=k?k(i[m],m,t):i[m],l>0&&c(h))p=r(h),v=o(e,t,h,p,v,l-1)-1;else{if(v>=9007199254740991)throw a("Exceed the acceptable array length");e[v]=h}v++}m++}return v};e.exports=o},3929:function(e,t,i){var n=i(7854),c=i(7850),r=n.TypeError;e.exports=function(e){if(c(e))throw r("The method doesn't accept regular expressions");return e}},4944:function(e,t,i){"use strict";var n=i(2109),c=i(6790),r=i(7908),s=i(6244),a=i(9303),o=i(5417);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=r(this),i=s(t),n=o(t,0);return n.length=c(n,t,t,i,0,void 0===e?1:a(e)),n}})},6699:function(e,t,i){"use strict";var n=i(2109),c=i(1318).includes,r=i(7293),s=i(1223),a=r((function(){return!Array(1).includes()}));n({target:"Array",proto:!0,forced:a},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},3792:function(e,t,i){var n=i(1223);n("flat")},2023:function(e,t,i){"use strict";var n=i(2109),c=i(1702),r=i(3929),s=i(4488),a=i(1340),o=i(4964),f=c("".indexOf);n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~f(a(s(this)),a(r(e)),arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=881-legacy.43a23ac0.js.map